suite: chainflip-node tests
templates:
  - engine-statefulset.yaml
tests:
  - it: should template the node statefulset
    asserts:
      - isKind:
          of: StatefulSet
      - equal:
          path: spec.template.spec.containers[0].image
          value: chainfliplabs/chainflip-engine:perseverance
  - it: should not create a pvc if supplying an existing claim
    set:
      engine.persistence.existingClaim: "test"
    asserts:
      - notExists:
          path: spec.volumeClaimTemplates